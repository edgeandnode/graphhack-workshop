(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{67548:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5841)}])},5841:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var n=t(35810),o=t(91741),i=t.n(o),a=t(52159),c=t(50966),l=t(57744),s=t.n(l),u=t(28575);function f(e,r,t,n,o,i,a){try{var c=e[i](a),l=c.value}catch(s){return void t(s)}c.done?r(l):Promise.resolve(l).then(n,o)}function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}function h(e,r){return t=s().mark((function t(){var n,o,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.studio.thegraph.com/query/23312/projectregistry/v6",d({method:"POST"},{headers:{"Content-Type":"application/json"}},{body:JSON.stringify({query:e,variables:r})}));case 2:return n=t.sent,t.next=5,n.json();case 5:if(!(o=t.sent).errors){t.next=9;break}throw i=o.errors[0].message,new Error(i);case 9:return t.abrupt("return",o.data);case 10:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){f(i,n,o,a,c,"next",e)}function c(e){f(i,n,o,a,c,"throw",e)}a(void 0)}))};var t}var m=function(){var e,r,t=(e={},r={refetchOnWindowFocus:!1},(0,u.useQuery)(void 0===e?["Projects"]:["Projects",e],h("\n    query Projects {\n  projects {\n    id\n    name\n    imageUrl\n    description\n    createdAt\n    upvotes\n    downvotes\n    owner {\n      id\n    }\n  }\n}\n    ",e),r)).data,o=t&&t.projects.length;return(0,n.tZ)("main",{sx:{px:"1rem",maxWidth:"$container",mx:"auto"},children:(0,n.BX)("section",{children:[(0,n.BX)("header",{sx:{pb:"2rem"},children:[(0,n.tZ)(a.X,{children:"Projects Registry"}),(0,n.tZ)("p",{sx:{height:"1.5rem"},children:null==o?"":"".concat(o," Projects")})]}),(0,n.BX)("ul",{sx:{listStyle:"none",m:0,p:0,display:"grid",gap:"2rem",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))"},children:[(0,n.tZ)("li",{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",height:"222px"},children:(0,n.tZ)(i(),{href:"/project/submit",children:(0,n.tZ)("a",{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"background.card",borderRadius:"4px",boxShadow:"0px 4px 24px rgba(30, 37, 44, 0.16), inset 0 0 0 8px var(--theme-ui-colors-primary-88)",transition:"box-shadow 250ms linear, transform 250ms linear",fontWeight:600,color:"neutral.88",":hover, a:focus-visible > &":{boxShadow:"0px 4px 36px rgba(30, 37, 44, 0.32), inset 0 0 0 8px var(--theme-ui-colors-primary-88)",transform:"scale(1.05)"}},children:"Add Project"})})}),t?t.projects.map((function(e){return(0,n.tZ)("li",{children:(0,n.tZ)(i(),{href:"/project/".concat(e.id),children:(0,n.tZ)("a",{children:(0,n.tZ)(c.t,{imageUrl:e.imageUrl,name:e.name,owner:e.owner.id.slice(0,16)+"...",createdAt:new Date(1e3*Number(e.createdAt)).toDateString()})})})},e.id)})):(0,n.tZ)(b,{})]})]})})};function b(){return(0,n.tZ)(n.HY,{children:Array.from({length:11}).map((function(e,r){return(0,n.tZ)("li",{"aria-hidden":!0,sx:{height:"222px",border:"1px solid",borderColor:"neutral.16"}},r)}))})}},52159:function(e,r,t){"use strict";t.d(r,{X:function(){return c}});var n=t(35810);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var a={letterSpacing:"-0.8px",fontSize:"xxl",fontWeight:700,color:"neutral.88"};function c(e){var r=e.as,t=void 0===r?"h1":r,c=i(e,["as"]);return(0,n.tZ)(t,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){o(e,r,t[r])}))}return e}({sx:a},c))}},50966:function(e,r,t){"use strict";t.d(r,{t:function(){return a}});var n=t(35810);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function a(e){var r=e.name,t=e.imageUrl,a=e.owner,c=e.createdAt,l=i(e,["name","imageUrl","owner","createdAt"]);return(0,n.BX)("article",function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){o(e,r,t[r])}))}return e}({sx:{borderRadius:"4px",overflow:"hidden",backgroundColor:"background.card",boxShadow:"0px 4px 24px rgba(30, 37, 44, 0.16)",transition:"box-shadow 250ms linear, transform 250ms linear",height:"222px",display:"flex",flexDirection:"column",":hover, a:focus-visible > &":{boxShadow:"0px 4px 36px rgba(30, 37, 44, 0.32)",transform:"scale(1.050)","> img":{opacity:0,height:0},"> div":{backgroundColor:"background.secondary"},h2:{color:"neutral.88",pt:"1rem"},".ProjectCard__Details":{opacity:1,height:"4rem"}}}},l,{children:[(0,n.tZ)("img",{width:"100%",alt:"",role:"presentation",src:t,sx:{objectFit:"cover",height:"150px",transition:"height 350ms ease, opacity 350ms ease"}}),(0,n.BX)("div",{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",p:"1rem 0.5rem",m:"0.5rem",borderRadius:"4px",transition:"background-color 250ms linear",flex:1,overflow:"hidden"},children:[(0,n.tZ)("h2",{sx:{fontWeight:700,fontSize:"1rem",textAlign:"center",color:"neutral.32",transition:"color 250ms linear, padding 350ms ease"},children:r}),(0,n.BX)("div",{className:"ProjectCard__Details",sx:{display:"flex",flexDirection:"column",alignItems:"center",opacity:0,height:0,transition:"height 350ms ease, opacity 350ms linear",pt:"0.5rem",fontSize:"sm",color:"#515B64",fontWeight:400},children:[(0,n.tZ)("span",{children:a}),(0,n.tZ)("span",{children:c})]})]})]}))}}},function(e){e.O(0,[774,888,179],(function(){return r=67548,e(e.s=r);var r}));var r=e.O();_N_E=r}]);